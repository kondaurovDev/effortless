---
title: Effortless AWS
description: Code-first AWS Lambda framework. Export handlers, deploy with one command.
template: splash
---

import { Card, CardGrid, LinkButton, Tabs, TabItem } from '@astrojs/starlight/components';
import AnimatedHero from '../../components/AnimatedHero.astro';

<AnimatedHero />

<CardGrid>
  <Card title="Infrastructure from code">
    Export a handler — get the full AWS infrastructure automatically. No YAML, no config files.

    - Export handler — get Lambda, API Gateway, DynamoDB, IAM
    - Auto IAM wiring from `deps: { orders }`
    - Secrets via `param("key")` — fetched from SSM at cold start

    <LinkButton href="/why-effortless/" variant="secondary" icon="right-arrow">Learn more</LinkButton>
  </Card>
  <Card title="Zero overhead deployment">
    Direct AWS SDK calls instead of CloudFormation. No state files to manage. Deploy in seconds, not minutes.

    - Deploy in ~5-10s — direct API calls, no CloudFormation
    - No state files — AWS resource tags as source of truth
    - Smart Lambda Layers with hash-based versioning

    <LinkButton href="/comparisons/#why-not-cloudformation" variant="secondary" icon="right-arrow">Learn more</LinkButton>
  </Card>
  <Card title="Type safety everywhere">
    One `defineTable` call creates the table, generates typed clients, and validates data at runtime with Effect Schema.

    - Typed `.put()`, `.get()`, typed stream records
    - Schema validation via Effect Schema before your handler runs
    - One definition — types flow to clients, streams, and deps

    <LinkButton href="/definitions/" variant="secondary" icon="right-arrow">Learn more</LinkButton>
  </Card>
  <Card title="Production ready by default">
    Built on AWS managed services — multi-AZ availability, automatic scaling, zero maintenance. Best practices baked in.

    - Partial batch failures — bad records don't kill the batch
    - Cold start caching — `context` factory runs once, reused across invocations
    - Structured logging with configurable log levels

    <LinkButton href="/why-aws/" variant="secondary" icon="right-arrow">Learn more</LinkButton>
  </Card>
</CardGrid>

## Build a todo app

Each tab adds a layer — every export creates real AWS infrastructure.

<Tabs>
  <TabItem label="1. HTTP API">
    One export — one endpoint. Method, path, handler function. Returns JSON automatically.

    ```typescript
    // src/api.ts
    import { defineHttp } from "effortless-aws";

    export const hello = defineHttp({
      method: "GET",
      path: "/",
      onRequest: async () => ({
        status: 200,
        body: { message: "Todo API is running" },
      }),
    });
    ```
  </TabItem>
  <TabItem label="2. Add a database">
    Define a table with a type — get a typed client. Import it as `deps` in any handler — IAM permissions are wired automatically.

    ```typescript
    // src/db.ts — define the table
    import { defineTable, typed } from "effortless-aws";

    type Todo = { id: string; title: string; done: boolean };

    export const todos = defineTable({
      pk: { name: "id", type: "string" },
      schema: typed<Todo>(),
    });

    // src/api.ts — use it as a typed dependency
    import { defineHttp } from "effortless-aws";
    import { todos } from "./db";

    export const addTodo = defineHttp({
      method: "POST",
      path: "/todos",
      deps: { todos },
      onRequest: async ({ req, deps }) => {
        await deps.todos.put({
          id: crypto.randomUUID(),
          title: req.body.title,
          done: false,
        });
        return { status: 201, body: { ok: true } };
      },
    });
    ```
  </TabItem>
  <TabItem label="3. Add secrets">
    `param()` reads secrets from SSM Parameter Store at cold start and caches them. `context` factory creates long-lived clients from those secrets — a built-in DI pattern.

    ```typescript
    // src/api.ts — add params and context
    import { defineHttp, param } from "effortless-aws";
    import { todos } from "./db";

    export const addTodo = defineHttp({
      method: "POST",
      path: "/todos",
      deps: { todos },
      params: { slackUrl: param("slack/webhook") },
      context: async ({ params }) => ({
        slack: createSlack(params.slackUrl),
      }),
      onRequest: async ({ req, deps, ctx }) => {
        await deps.todos.put({
          id: crypto.randomUUID(),
          title: req.body.title,
          done: false,
        });
        await ctx.slack.send(`New todo: ${req.body.title}`);
        return { status: 201, body: { ok: true } };
      },
    });
    ```
  </TabItem>
  <TabItem label="4. Serve the frontend">
    Point to a build directory — the frontend is served on the same domain as your API. SPA routing, content-type detection, caching headers included.

    ```typescript
    // src/app.ts
    import { defineApp } from "effortless-aws";

    export const frontend = defineApp({
      dir: "dist",
      path: "/",
      spa: true,
      build: "npm run build",
    });
    ```
  </TabItem>
</Tabs>

### Deploy

```bash
$ npx eff deploy

Deployed 3 handler(s) in 8s:
  [table] todos    arn:aws:dynamodb:eu-west-1:***:table/todo-app-dev-todos
  [http]  addTodo  https://abc123.execute-api.eu-west-1.amazonaws.com/todos
  [app]   frontend https://abc123.execute-api.eu-west-1.amazonaws.com/
```

Need a separate environment? Add `--stage`:

```bash
$ npx eff deploy --stage prod

Deployed 3 handler(s) in 8s:
  [table] todos    arn:aws:dynamodb:eu-west-1:***:table/todo-app-prod-todos
  [http]  addTodo  https://xyz789.execute-api.eu-west-1.amazonaws.com/todos
  [app]   frontend https://xyz789.execute-api.eu-west-1.amazonaws.com/
```

Fully isolated infrastructure — separate tables, Lambdas, API Gateway. No shared state between stages.

## Compared to

| | SST v3 | Nitric | Serverless | **Effortless** |
|---|---|---|---|---|
| Infra from code (not config) | No | Yes | No | **Yes** |
| Typed client from schema | No | No | No | **Yes** |
| No state files | No | No | No | **Yes** |
| Deploy speed | ~30s | ~30s | minutes | **~5-10s** |
| Runs in your AWS account | Yes | Yes | Yes | **Yes** |
| Open source | Yes | Yes | Yes | **Yes** |
